<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="../lib/jquery.mobile-1.4.5.min.css" />
    <script src="https://kit.fontawesome.com/2d990cff29.js" crossorigin="anonymous"></script>
    <script defer src="https://friconix.com/cdn/friconix.js"></script>
    <title>Craftzy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="../themes/Craftzy.min.css">
    <link rel="stylesheet" href="../themes/jquery.mobile.icons.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css">
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link rel="stylesheet" href="../CSS.css">
    <script>
        $(document).ready(function () {
            $("#select-choice-mini2").change(function () {
                var selectedVal = $("#select-choice-mini2 option:selected").val();
                if (selectedVal === "l2h") {
                    resultArray.sort(function (a, b) { return a.price - b.price });
                } else {
                    resultArray.sort(function (a, b) { return b.price - a.price });
                }

                displayResults();
            });

            $("#select-choice-mini").change(function () {
                var selectedVal = $("#select-choice-mini option:selected").val();
                if (selectedVal === "l2h") {
                    resultArray.sort(function (a, b) { return a.rating - b.rating });
                } else {
                    resultArray.sort(function (a, b) { return b.rating - a.rating });
                }

                displayResults();
            });
        });
    </script>
</head>

<body>
    <div data-role="page" data-role="page" data-position="fixed" data-url="page1" tabindex="0"
        class="ui-page ui-page-theme-a ui-page-footer-fixed ui-page-active"
        style="padding-bottom: 58px; background-color: #551122">
        <div data-role="header" data-postion="fixed" class="header-bar">
            <div>
                <i class="fas fa-chevron-left back-icon" onclick="goToHome()"></i>
                <div class="search-container">
                    <input type="search" name="password" id="search" value="" placeholder=" Search"
                        data-wrapper-class="serachInputWrapper" style="padding-top: 9px !important; padding-bottom: 8px;
                        padding-right: 15px;padding-left: 25px;">
                </div>
            </div>
        </div>
        <div data-role="content" data-theme="a" style="padding-top: 0px; padding-left: 0px; padding-right: 0px;">
            <div class="top-header" st>
                <table>
                    <div class="filter-section"></div>
                    <th>
                    <td style="padding-left: 10px;">
                        <p style="    height: 7px;
                            text-align: center;
                            color: #ab821e;">Rating</p>
                        <select name="select-choice-mini" id="select-choice-mini" data-mini="true" data-inline="true"
                            class="filter-favourite" style="float:left">

                            <option value="none">Rating</option>
                            <option value="l2h">Low - High</option>
                            <option value="h2l">High - Low</option>

                        </select>

                    </td>
                    <td style="padding-left: 50px;">
                        <p style="    height: 7px;
                            text-align: center;
                            color: #ab821e;">Price</p>
                        <select name="select-choice-mini" id="select-choice-mini2" data-mini="true" data-inline="true"
                            class="filter-favourite" style="float:right">

                            <option value="none">Price</option>
                            <option value="l2h">Low - High</option>
                            <option value="h2l">High - Low</option>

                        </select>
                    </td>
                    </th>
            </div>
            </table>
        </div>
        <br>

        <div id="itemContainer" class="ui-body ui-body-a ui-corner-all" style="  width:75%; height:min-content;">

        </div>

    </div>


    </div>
    <script>
        function goToHome() {
            document.location.href = "./home.html";
        }

        let resultArray = [
            {
                image: "../images/pot-11.png", price: 400.00, rating: 4.3,
                description: "Mini garden hard clay pot"
            },
            {
                image: "../images/pots.jpg", price: 2000.00, rating: 3.8,
                description: "Handmade soft clay pot set"
            },
            {
                image: "../images/sglue.jpg", price: 300.00, rating: 4.6,
                description: "200ml A22 paper glue bottle"
            },
            {
                image: "../images/poi4.png", price: 1000.00, rating: 4.2,
                description: "hight quality 12A paint brush"
            },
            {
                image: "../images/baloon.jpg", price: 10.00, rating: 3.7,
                description: "Soft baloon"
            },
            {
                image: "../images/string.jpg", price: 200.00, rating: 3.7,
                description: "B4 soft string ball"
            }, 
            {
                image: "../images/DUCT-TAPE.jpg", price: 100.00, rating: 3.7,
                description: "Sticky grey duct tape"
            },

        ];

        function displayResults() {
            document.getElementById("itemContainer").innerHTML = "";
            for (let i = 0; i < resultArray.length; i++) {
                var content = `
                    <div class="item">
                    <img src="${resultArray[i].image}" width="35%" height="90%" class="item-image">
                    <div class="item-description">
                        <p class="product-name">${resultArray[i].description}</p>
                        <i class="fas fa-tags"></i>
                        <p class="price-tag">LKR ${resultArray[i].price}.00</p> <br>
                        <p class="shiping-details">Free Shipping</p>
                        <div class="rating">${resultArray[i].rating}</div>
                        <i class="fas fa-star"></i>
                        
                    </div>
                    
                </div>
                <br>
                        <br>`;

                document.getElementById("itemContainer").innerHTML += content;
            }
        }
        displayResults();
    </script>
</body>

</html>